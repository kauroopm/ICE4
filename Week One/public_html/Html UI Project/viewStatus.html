<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Work Plan Pvt Ltd</title>
        <link rel="stylesheet" type="text/css" href="CSS/style.css">
        <script src="js/db.js"></script>
    </head>
<body>
    <header>
        <div id="header-container">
            <div class="col-3">
                <a href="index.html">
                    <img class="logo" id="logo" src="Images/logo.png">
                </a>
            </div>
            <div class="col-3">
            <nav>
                <ul class="menu">
                    <a href="index.html"><li>Home</li></a>
                    <a href="createTask.html"><li>Create Task</li></a>
                    <a href="updateTask.html"><li>Update Task</li></a>
                    <a href="viewTask.html"><li>View Task</li></a>
                    <a href="viewStatus.html"><li>View Status</li></a>
                    <li><input id="search" type="search" placeholder="Search"></li>
                    <a href="aboutUs.html"><li>About Us</li></a>
                </ul>    
            </nav>
            </div>
        </div><!-- Header-Container Ends Here -->
    </header>
    <div class="main_body">
        <center>
            <h1>Status of Project Progress:</h1>
            <div id="piechart"></div>
        </center>

        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

        <script type="text/javascript">
            // Load google charts
            google.charts.load('current', {'packages':['corechart']});
            google.charts.setOnLoadCallback(drawChart);

            //Fetching values of "Yes" and "No"
            var yesFilter = TaskData.filter(d => (d.completed === "Yes"));
            var noFilter = TaskData.filter(d => (d.completed === "No"));
            //alert(yesFilter.length);
            // Draw the chart and set the chart values
            function drawChart() {
              var data = google.visualization.arrayToDataTable([
              ['completed', 'No of Tasks'],
              ['Yes', yesFilter.length],
              ['No', noFilter.length]
            ]);

              // Optional; add a title and set the width and height of the chart
              var options = {'title':'ToDoList', 'width': 800, 'height':500};

              // Display the chart inside the <div> element with id="piechart"
              var chart = new google.visualization.PieChart(document.getElementById('piechart'));
              chart.draw(data, options);
            }
        </script>
    </div>
    <footer>
        <div class="social-footer">
            <div class="center">
                <img src="Images/twitter.png" alt="twitter" height="48" width="55">
            </div>
        </div>
        <div class="social-footer">
            <div class="center">
                <img src="Images/facebook.png" alt="twitter" height="55" width="28">
            </div>
        </div>
        <div class="social-footer">
            <div class="center">
                <img src="Images/instagram.png" alt="twitter" height="52" width="52">
            </div>
        </div>
        <p style="text-align: center; padding-top:300px;"><img src="Images/logo.png" width="200" height="80"></p>
        <span class="copyright">&copy; Copyright 2020 WorkPlanner &hearts;</span>
    </footer>
</body>
</html>